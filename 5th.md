# 두번째반 - 도전과제

## 목표
* 스프링 프로젝트를 도커라이징해서 ecr에 넣어보자

## 참고자료
> [Spring 환경 세팅](https://github.com/sghaha/t2/blob/main/spring.md)


## 세부 내용

### 1. 전제 사항
> 1. EKS핸즈온에서 생성한 인프라 구조를 사용한다.
[EKS 실습 매뉴얼 바로가기](https://github.com/sghaha/amazon-eks-hands-on)


### 2. 개발환경 선택
> 1. 각자 편한 환경을 선택한다. 
> 2. 개인의 로컬에서 해도되고 CLOUD9에서 해도된다. (나는 로컬에서 하는게 조금 편했던 느낌)

### 3. 스프링 생성
> 1. https://start.spring.io/ 에서 스프링을 spring web생성/다운받는다.
> 2. 디펜던시는 spring web하나만 넣어줘도 일단은 괜찮다
> 3. gradle/jar/java11 로 선택하자 
> 4. Generate 눌러 다운받는다. 


### 4. github 레포지토리
> 1. github 레포지토리를 생성한다.
> 2. 3에서 다운받은 스프링을 생성한 repo에 넣어본다.


### 5. 스프링 개발
> 1. get / 에 아무거나 response오도록 개발을 한다.

### 6. 도커라이징
> 1. ECR레포지토리를 하나 만든다
> 2. 개발한 스프링 프로젝트를 도커라이징한다.
> 3. 만들어진 도커이미지를 ECR레포지토리에 push 한다.
> * 고민하다 못하겠으면 김수기 프로에게 Dockerfile 요청

### 7. 배포해보기
> 1. ECR레포지토리가 생성되었으니 EKS 핸즈온에서 했던것처럼 배포해보자
> 2. 여기까지 한 후, 결과물 1번 제출


### 8. github action
> 1. 도커 이미지 생성 & ECR푸시를 github action에서 자동으로 하도록 해보자
> 2. 푸시된 이미지로 다시 한번 배포해보자
> 3. 여기까지 한 후, 결과물 2번 제출
> * 고민하다 못하겠으면 김수기 프로에게 build.yaml 요청

## 제출 결과물
> 1. 배포가 성공하면 url을 김수기 프로에게 알려주어 확인받는다.
> 2. github action 코드를 김수기 프로에게 보내주어 확인받는다.

## 더 해보기
> 1. ecr의 이미지를 실행
> 2. db하나 만들어서 연결해보기
> 3. db연결 정보를 어떻게 하면 안전하게 저장할지 생각해보기

## 발표
> 1. 소감 발표, 30분 준비
> 2. 3명 랜덤으로 추첨해서 발표
